<Project>
  <!-- See https://aka.ms/dotnet/msbuild/customize for more details on customizing your build -->
  <Target Name="VitrauxJsCopy" AfterTargets="Build">
      <Message Text="Copying vitraux.js" Importance="high" />
	  <ItemGroup>
		  <VitrauxPackage Include="@(PackageReference->WithMetadataValue('Identity', 'Vitraux'))" />
	  </ItemGroup>
	  
	  <PropertyGroup>
		  <VitrauxPackagePath>$([System.IO.Path]::Combine('$(NuGetPackageRoot)', '%(VitrauxPackage.Identity)', '%(VitrauxPackage.Version)', 'contentFiles', 'any', 'any', 'vitraux-1.0.0-rc-min.js'))</VitrauxPackagePath>
	  </PropertyGroup>
	  
	  <Copy
			SourceFiles="$(VitrauxPackagePath)"
			DestinationFolder="$(ProjectDir)..\TestSite\"
			SkipUnchangedFiles="true" />
  </Target>
</Project>
